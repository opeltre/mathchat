html
  head
    link(rel='stylesheet', href='/views/style/main.css')
    link(rel='stylesheet', href='/static/fa/fontawesome-all.min.css')
    <link rel="stylesheet" media="screen" href="https://fontlibrary.org/face/retroscape" type="text/css"/>
    <link rel="stylesheet" media="screen" href="https://fontlibrary.org/face/glacial-indifference" type="text/css"/> 
    title cloud
  body
    
    #header.flex-h 
      h1.title MATHCHAT 
      span.grow 
      span#user 
        if user
          i.fa.fa-user
          | #{user.usr}
        else
          i.far.fa-user
          a(href='/login/') login
    
    #cloud
      h2 cloud 
       
      div#files
        each f in files
          button
            i.fa.fa-trash-alt
          span
            a(href=`/files/${f.href}`, download=f.name)
              i.fa.fa-cloud-download-alt
              | #{f.name}
          span(style={color:'blue'})= ` ${f.usr}`
          br
    
    #upload
      h2 upload
      
      form(action="/upload" enctype="multipart/form-data" method='post')
        label.upload-btn(for='browse') 
          i.fa.fa-folder-open
          | select
        input#browse.hide(type='file' name='doc' multiple)
        button.upload-btn(type="submit")
          i.fa.fa-cloud-upload-alt
            
        div#preview
        script.
          var input = document.getElementById('browse');
          var preview = document.getElementById('preview');
          input.addEventListener('change', paint);
          
          function paint () {
            preview.innerHTML = '';
            Array.from(input.files).forEach(f => {
              var node = document.createElement('div');
              node.innerHTML = f.name;
              preview.appendChild(node);
            });
          };
